<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Responsive 5x5 Matrix</title>
  <style>
    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #9f9f9f;
    }

    .matrix {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      grid-template-rows: repeat(5, 1fr);
      gap: 5px; /* Space between squares */
      width: 90vw; /* Adjust matrix width based on client screen */
      height: 90vw; /* Keep matrix square */
      max-width: 90vh; /* Ensure it fits within the viewport height */
      max-height: 90vh;
    }

    .square {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #f0f0f0;
      color: black;
      font-family: Arial, sans-serif;
      font-size: calc(1.9vw); /* Dynamically adjust text size */
      text-align: center;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    @media (max-width: 600px) {
      .square {
        font-size: calc(2vw);
      }
    }
  </style>
</head>
<body>
  <div class="matrix" id="matrix">
    <!-- Cells will be generated by JavaScript -->
  </div>

  <script>

    // Initial locked state
    let locked = false;

    // Song titles are passed as an array: titles
    let songs = []
    {% for title in titles %}
       cleanTitle = unescapeHTML("{{title}}")
       songs.push(cleanTitle)
       // console.log(cleanTitle) 
    {% endfor %}
    // console.log(songs)

   // Generate a 5x5 matrix
    const matrix = document.getElementById('matrix');
    const rows = 5;
    const columns = 5;
    songs[12] = 'xxx\nxxx\nxxx'

    for (let i = 0; i < rows * columns; i++) {
      const cell = document.createElement('div');
      cell.className = 'square';
      // Set text and style for each cell
      cell.textContent = songs[i];

      matrix.appendChild(cell);
    }
      
function unescapeHTML(htmlString) {
  const tempDiv = document.createElement('div');
  tempDiv.innerHTML = htmlString;
  return tempDiv.textContent || tempDiv.innerText || '';
}


  </script>

</body>
</html>